(window.webpackJsonp=window.webpackJsonp||[]).push([[53,38,39,40],{1277:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(30),o=(r(129),r(24),r(34),r(35),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return n=e.sent.default,e.prev=3,e.next=6,n.post("https://large-lovely-woodcock.ngrok-free.app/user/?email=".concat(t));case 6:return o=e.sent,e.abrupt("return",o.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{email:"Febe@gmail.com",point:10,pwd:"aaa",uid:1,uname:"Febe"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}())},1278:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c}));var n=r(30),o=(r(129),r(24),r(34),r(35),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return n=e.sent.default,e.prev=3,e.next=6,n.post("https://large-lovely-woodcock.ngrok-free.app/sendotptext/?email=".concat(t));case 6:e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",{data:{message:"newEmail@gmail.com"}});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()),c=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return n=e.sent.default,e.prev=3,e.next=6,n.post("https://large-lovely-woodcock.ngrok-free.app/otptext/?otpid=".concat(t));case 6:e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return","12345");case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},1283:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c}));var n=r(30),o=(r(129),r(24),r(34),r(35),r(161),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,n,o,c){var m,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return m=e.sent.default,e.prev=3,e.next=6,m.post("https://large-lovely-woodcock.ngrok-free.app/updateuser/?uid=".concat(t,"&uname=").concat(n,"&email=").concat(o,"&pwd=").concat(c));case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{data:{message:"更新資料完成",status:"success"}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),c=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,n,o){var c,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return c=e.sent.default,e.prev=3,e.next=6,c.post("https://large-lovely-woodcock.ngrok-free.app/updateuser/?uname=".concat(t,"&email=").concat(n,"&pwd=").concat(o,"&status=register"));case 6:return m=e.sent,e.abrupt("return",m);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{message:"更新資料完成",status:"success"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()},1296:function(e,t,r){var content=r(1316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("2c2b72ad",content,!0,{sourceMap:!1})},1297:function(e,t,r){var content=r(1318);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("36318045",content,!0,{sourceMap:!1})},1298:function(e,t,r){var content=r(1320);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("f293bfa8",content,!0,{sourceMap:!1})},1315:function(e,t,r){"use strict";r(1296)},1316:function(e,t,r){var n=r(64)((function(i){return i[1]}));n.push([e.i,"#RegisterStep1 .content-area[data-v-23f43682]{display:flex;flex-direction:column;height:70vh;justify-content:center;padding:50px;text-align:center}@media (min-width:769px){#RegisterStep1 .content-area[data-v-23f43682]{align-items:center}#RegisterStep1 .form-area[data-v-23f43682]{width:600px}}#RegisterStep1 .title-content[data-v-23f43682]{color:#fff;font-family:Inter;font-size:35px;font-weight:800;letter-spacing:0;line-height:42px;margin-bottom:40px}#RegisterStep1 .btn-area[data-v-23f43682]{background-color:#241f1f;border-radius:14px;color:#fff;font-family:Inter;font-size:24px;font-weight:600;height:45px;letter-spacing:0;margin-top:12px;text-align:center;width:-webkit-fill-available}#RegisterStep1 .input-font[data-v-23f43682]{border-radius:14px;font-size:20px;height:45px;padding:0 20px}",""]),n.locals={},e.exports=n},1317:function(e,t,r){"use strict";r(1297)},1318:function(e,t,r){var n=r(64)((function(i){return i[1]}));n.push([e.i,"#RegisterStep2 .content-area[data-v-24f557a2]{display:flex;flex-direction:column;height:70vh;justify-content:center;padding:50px;text-align:center}@media (min-width:769px){#RegisterStep2 .content-area[data-v-24f557a2]{align-items:center}#RegisterStep2 .form-area[data-v-24f557a2]{width:600px}}#RegisterStep2 .title-content[data-v-24f557a2]{color:#fff;font-family:Inter;font-size:35px;font-weight:800;letter-spacing:0;line-height:42px;margin-bottom:40px}#RegisterStep2 .btn-area[data-v-24f557a2]{background-color:#241f1f;border:1px solid #000;border-radius:14px;color:#fff;font-family:Inter;font-size:24px;font-weight:600;height:45px;letter-spacing:0;text-align:center;width:-webkit-fill-available}#RegisterStep2 .input-font[data-v-24f557a2]{border-radius:14px;font-size:20px;height:45px;padding:0 20px}#RegisterStep2 .verify-text[data-v-24f557a2]{color:#fff;text-align:right}#RegisterStep2 .time-area[data-v-24f557a2]{color:#fff;font-size:22px}",""]),n.locals={},e.exports=n},1319:function(e,t,r){"use strict";r(1298)},1320:function(e,t,r){var n=r(64)((function(i){return i[1]}));n.push([e.i,"#RegisterStep3 .content-area[data-v-7c23dacd]{display:flex;flex-direction:column;height:70vh;justify-content:center;padding:50px;text-align:center}@media (min-width:769px){#RegisterStep3 .content-area[data-v-7c23dacd]{align-items:center}#RegisterStep3 .form-area[data-v-7c23dacd]{width:600px}}#RegisterStep3 .title-content[data-v-7c23dacd]{color:#fff;font-family:Inter;font-size:35px;font-weight:800;letter-spacing:0;line-height:42px;margin-bottom:40px}#RegisterStep3 .btn-area[data-v-7c23dacd]{background-color:#241f1f;border:1px solid #000;border-radius:14px;color:#fff;font-family:Inter;font-size:24px;font-weight:600;height:45px;letter-spacing:0;text-align:center;width:-webkit-fill-available}#RegisterStep3 .input-font[data-v-7c23dacd]{border-radius:14px;font-size:20px;height:45px;padding:0 20px}",""]),n.locals={},e.exports=n},1353:function(e,t,r){var content=r(1425);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("70a14b59",content,!0,{sourceMap:!1})},1390:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(129),r(24),r(34),r(35),r(1278)),c=r(1277),m={name:"RegisterStep1",components:{Loading:function(){return r.e(3).then(r.bind(null,1538))}},data:function(){return{loadingVisible:!1,memberForm:{memberName:"",memberEmail:""},rules:{memberName:[{required:!0,message:"不可為空"}],memberEmail:[{required:!0,message:"不可為空"},{type:"email",message:"請輸入有效的信箱"}]}}},methods:{OnSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.ruleForm.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=18;break}return e.loadingVisible=!0,t.next=4,e.GetCreateUserApi();case 4:if("error"===t.sent.status){t.next=9;break}e.$message.error("該 email 已被註冊"),t.next=15;break;case 9:return t.next=11,e.GetSendEmailApi(e.memberForm.memberEmail);case 11:n=t.sent,o=n.data.message,console.log(o),e.$emit("DoneStep1",!0,e.memberForm,o);case 15:e.memberForm.memberEmail="",e.memberForm.memberName="",e.loadingVisible=!1;case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},GetCreateUserApi:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.memberForm.memberEmail),t.next=3,Object(c.a)(e.memberForm.memberEmail);case 3:return r=t.sent,console.log(r),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},GetSendEmailApi:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))()}}},l=m,d=(r(1315),r(28)),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"RegisterStep1"}},[t("div",{staticClass:"content-area"},[t("div",{staticClass:"title-content"},[e._v("註冊")]),t("aFormModel",{ref:"ruleForm",staticClass:"form-area",attrs:{model:e.memberForm,rules:e.rules}},[t("aFormModelItem",{ref:"memberName",attrs:{prop:"memberName"}},[t("aInput",{staticClass:"input-font",attrs:{placeholder:"王曉明"},model:{value:e.memberForm.memberName,callback:function(t){e.$set(e.memberForm,"memberName",t)},expression:"memberForm.memberName"}})],1),t("aFormModelItem",{ref:"memberEmail",attrs:{prop:"memberEmail"}},[t("aInput",{staticClass:"input-font",attrs:{placeholder:"abcd@gmail.com"},model:{value:e.memberForm.memberEmail,callback:function(t){e.$set(e.memberForm,"memberEmail",t)},expression:"memberForm.memberEmail"}})],1),t("aFormModelItem",[t("aButton",{staticClass:"btn-area",attrs:{type:"primary"},on:{click:e.OnSubmit}},[e._v(e._s("下一步"))])],1)],1)],1),e.loadingVisible?t("Loading"):e._e()],1)}),[],!1,null,"23f43682",null);t.default=component.exports},1391:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(129),r(24),r(34),r(35),r(98),r(163),r(161),r(1278)),c={components:{DemoModal:function(){return r.e(5).then(r.bind(null,1535))}},props:{otpId:{type:Number,default:""},memberEmail:{type:String,default:""}},name:"RegisterStep2",data:function(){return{otpText:"",countdown:0,timer:null,tryAgain:null,isVisible:!1,memberForm:{memberVerify:""},rules:{memberVerify:[{required:!0,message:"不可為空"},{min:4,message:"驗證碼格式錯誤",trigger:"blur"}]}}},computed:{timeClock:function(){}},mounted:function(){this.Init()},methods:{Init:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetOtpTextApi(e.otpId);case 2:r=t.sent,e.otpText=r,e.startCountdown();case 5:case"end":return t.stop()}}),t)})))()},OnSubmit:function(){var e=this;this.otpText===this.memberForm.memberVerify?this.$refs.ruleForm.validate((function(t){t&&e.$emit("DoneStep2",!0)})):this.$message.error("驗證碼錯誤")},OpenModal:function(){this.isVisible=!0,this.tryAgain=!0},SaveModal:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isVisible=!1,e.tryAgain=!0,t.next=4,e.GetSendEmailApi();case 4:return t.next=6,e.GetOtpTextApi(e.otpId);case 6:r=t.sent,e.otpText=r,clearInterval(e.timer),e.startCountdown(),e.formatCountdownTime();case 11:case"end":return t.stop()}}),t)})))()},CloseModal:function(){this.isVisible=!1},startCountdown:function(){var e=this;this.countdown=600,this.timer=setInterval((function(){e.countdown>0?e.countdown--:clearInterval(e.timer)}),1e3)},formatCountdownTime:function(){var e=Math.floor(this.countdown/60),t=this.countdown%60;return"".concat(e,":").concat(t<10?"0":"").concat(t)},GetOtpTextApi:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)(e);case 2:return r=t.sent,console.log(r),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},GetSendEmailApi:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.memberEmail),t.next=3,Object(o.b)(e.memberEmail);case 3:r=t.sent,console.log(r.data.message),e.otpId=r.data.message;case 6:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){clearInterval(this.timer)}},m=(r(1317),r(28)),component=Object(m.a)(c,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"RegisterStep2"}},[t("div",{staticClass:"content-area"},[t("div",{staticClass:"title-content"},[e._v("註冊")]),t("aFormModel",{ref:"ruleForm",staticClass:"form-area",attrs:{model:e.memberForm,rules:e.rules}},[t("aFormModelItem",{ref:"memberVerify",attrs:{prop:"memberVerify"}},[t("aInput",{staticClass:"input-font",attrs:{placeholder:"請輸入驗證碼",maxLength:9},model:{value:e.memberForm.memberVerify,callback:function(t){e.$set(e.memberForm,"memberVerify",t)},expression:"memberForm.memberVerify"}})],1),t("aFormModelItem",[t("Button",{staticClass:"btn-area",attrs:{type:"primary"},on:{click:e.OnSubmit}},[e._v(e._s("下一步 "))])],1),t("div",{staticClass:"verify-text",on:{click:e.OpenModal}},[e._v(e._s("未收到驗證碼?"))]),t("div",{staticClass:"time-area"},[e._v(e._s(e.formatCountdownTime()))]),t("DemoModal",{attrs:{visible:e.isVisible},on:{CloseModal:e.CloseModal,SaveModal:e.SaveModal},scopedSlots:e._u([{key:"article",fn:function(){return[e._v(e._s("確定要重新寄送驗證碼?"))]},proxy:!0}])})],1)],1)])}),[],!1,null,"24f557a2",null);t.default=component.exports},1392:function(e,t,r){"use strict";r.r(t);var n={name:"RegisterStep3",data:function(){var e=this;return{memberForm:{Password:"",PasswordAgain:""},rules:{Password:[{required:!0,message:"不可為空"},{validator:this.rValidataPhoneFormat,trigger:"blur"}],PasswordAgain:[{required:!0,message:"不可為空"},{validator:function(t,r,n){var form=e.memberForm;r&&r!==form.Password?n("兩次密碼不一致!"):n()},trigger:"blur"}]}}},methods:{OnSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.$emit("DoneStep3",!0,e.memberForm),e.memberForm.Password="",e.memberForm.PasswordAgain="")}))}}},o=(r(1319),r(28)),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"RegisterStep3"}},[t("div",{staticClass:"content-area"},[t("div",{staticClass:"title-content"},[e._v("註冊")]),t("aFormModel",{ref:"ruleForm",staticClass:"form-area",attrs:{model:e.memberForm,rules:e.rules}},[t("aFormModelItem",{ref:"Password",attrs:{prop:"Password"}},[t("aInput",{staticClass:"input-font",attrs:{type:"password",placeholder:"請輸入密碼",maxLength:9},model:{value:e.memberForm.Password,callback:function(t){e.$set(e.memberForm,"Password",t)},expression:"memberForm.Password"}})],1),t("aFormModelItem",{ref:"PasswordAgain",attrs:{prop:"PasswordAgain"}},[t("aInput",{staticClass:"input-font",attrs:{type:"password",placeholder:"請再次輸入密碼",maxLength:9},model:{value:e.memberForm.PasswordAgain,callback:function(t){e.$set(e.memberForm,"PasswordAgain",t)},expression:"memberForm.PasswordAgain"}})],1),t("aFormModelItem",[t("Button",{staticClass:"btn-area",attrs:{type:"primary"},on:{click:e.OnSubmit}},[e._v(e._s("確認"))])],1)],1)],1)])}),[],!1,null,"7c23dacd",null);t.default=component.exports},1424:function(e,t,r){"use strict";r(1353)},1425:function(e,t,r){var n=r(64)((function(i){return i[1]}));n.push([e.i,"",""]),n.locals={},e.exports=n},1518:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(129),r(24),r(34),r(35),r(1283)),c={layout:"default",components:{RegisterStep1:function(){return Promise.resolve().then(r.bind(null,1390))},RegisterStep2:function(){return Promise.resolve().then(r.bind(null,1391))},RegisterStep3:function(){return Promise.resolve().then(r.bind(null,1392))},DoneVerify:function(){return r.e(26).then(r.bind(null,1548))}},name:"MemberRegister",data:function(){return{doneStep1:"",doneStep2:"",doneStep3:"",otpId:"",memberForm:{memberName:"",memberEmail:"",memberPwd:""}}},computed:{current:function(){return""===this.doneStep1&&""===this.doneStep2?"page1":!0===this.doneStep1&&""===this.doneStep2?"page2":!0===this.doneStep2&&""===this.doneStep3?"page3":"page4"}},methods:{DoneStep1:function(e,data,t){this.memberForm.memberEmail=data.memberEmail,this.memberForm.memberName=data.memberName,this.otpId=t,this.doneStep1=e},DoneStep2:function(e){this.doneStep2=e},DoneStep3:function(e,data){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.memberForm.memberPwd=data.Password,r.next=3,t.GetCreateUserApi(t.memberForm);case 3:console.log(t.memberForm),t.doneStep3=e;case 5:case"end":return r.stop()}}),r)})))()},GetCreateUserApi:function(data){return Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(data.memberName,data.memberEmail,data.memberPwd);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()}}},m=(r(1424),r(28)),component=Object(m.a)(c,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"MemberRegister"}},["page1"==e.current?t("RegisterStep1",{on:{DoneStep1:e.DoneStep1}}):e._e(),"page2"==e.current?t("RegisterStep2",{attrs:{otpId:e.otpId,memberEmail:e.memberForm.memberEmail},on:{DoneStep2:e.DoneStep2}}):e._e(),"page3"==e.current?t("RegisterStep3",{on:{DoneStep3:e.DoneStep3}}):e._e(),"page4"==e.current?t("DoneVerify"):e._e()],1)}),[],!1,null,"6b6c8e50",null);t.default=component.exports;installComponents(component,{RegisterStep1:r(1390).default,RegisterStep2:r(1391).default,RegisterStep3:r(1392).default})}}]);