(window.webpackJsonp=window.webpackJsonp||[]).push([[52,37],{1275:function(e,t,r){"use strict";var n=r(15),o=r(687).trim;n({target:"String",proto:!0,forced:r(1276)("trim")},{trim:function(){return o(this)}})},1276:function(e,t,r){var n=r(162).PROPER,o=r(17),c=r(688);e.exports=function(e){return o((function(){return!!c[e]()||"​᠎"!=="​᠎"[e]()||n&&c[e].name!==e}))}},1277:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(30),o=(r(129),r(24),r(34),r(35),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return n=e.sent.default,e.prev=3,e.next=6,n.post("https://large-lovely-woodcock.ngrok-free.app/user/?email=".concat(t));case 6:return o=e.sent,e.abrupt("return",o.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{email:"Febe@gmail.com",point:10,pwd:"aaa",uid:1,uname:"Febe"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}())},1283:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c}));var n=r(30),o=(r(129),r(24),r(34),r(35),r(161),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,n,o,c){var d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return d=e.sent.default,e.prev=3,e.next=6,d.post("https://large-lovely-woodcock.ngrok-free.app/updateuser/?uid=".concat(t,"&uname=").concat(n,"&email=").concat(o,"&pwd=").concat(c));case 6:return m=e.sent,e.abrupt("return",m);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{data:{message:"更新資料完成",status:"success"}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),c=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,n,o){var c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return c=e.sent.default,e.prev=3,e.next=6,c.post("https://large-lovely-woodcock.ngrok-free.app/updateuser/?uname=".concat(t,"&email=").concat(n,"&pwd=").concat(o,"&status=register"));case 6:return d=e.sent,e.abrupt("return",d);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{message:"更新資料完成",status:"success"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()},1286:function(e,t,r){var content=r(1295);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("c6409780",content,!0,{sourceMap:!1})},1294:function(e,t,r){"use strict";r(1286)},1295:function(e,t,r){var n=r(64)((function(i){return i[1]}));n.push([e.i,"#ProfileInput[data-v-25d25359]{align-items:center;background-color:rgba(115,170,36,.8);border-radius:60px 60px 0 0;display:flex;flex-direction:column;justify-content:center}#ProfileInput .form-grid[data-v-25d25359]{grid-gap:15px;align-items:center;display:grid;font-size:22px;gap:15px;grid-template-columns:auto 1fr;margin-top:50px;width:75%}#ProfileInput .member-text[data-v-25d25359]{color:#fff}#ProfileInput .btn-area[data-v-25d25359]{background-color:#d4d4d4;border-radius:14px;color:#fff;font-size:17px;font-weight:600;height:40px;margin-top:20px;text-align:center;width:100px}#ProfileInput .input-font[data-v-25d25359]{border-radius:25px;font-size:20px;height:45px;padding:0 20px}#ProfileInput .ant-form-item[data-v-25d25359]{margin-bottom:0!important}@media (min-width:769px){#ProfileInput[data-v-25d25359]{border-radius:0}#ProfileInput .form-grid[data-v-25d25359]{width:600px}}",""]),n.locals={},e.exports=n},1312:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(163),r(1275),r(325),r(129),r(1277)),c={name:"ProfileInput",props:{notEdit:{type:Boolean,default:""},getInit:{type:Boolean,default:""}},data:function(){return{memberForm:{memberName:"",memberEmail:"",memberPassword:""},rules:{memberName:[{required:!0,message:"不可為空"}]}}},computed:{initialized:function(){!0===this.getInit&&this.Init()}},mounted:function(){this.Init()},methods:{Init:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.GetCookieValue("email"),t.next=3,e.GetLoginApi(r);case 3:data=t.sent,e.memberForm.memberEmail=data.email,e.memberForm.memberName=data.uname,e.memberForm.memberPassword=data.pwd;case 7:case"end":return t.stop()}}),t)})))()},EditName:function(){this.$emit("EditName",this.memberForm.memberName)},LogOut:function(){this.delCookie("id"),this.delCookie("email"),this.$router.push("/"),setTimeout((function(){window.location.reload()}),300)},EditPhone:function(){this.$emit("openPhone",!0)},EditPassword:function(){this.$emit("openPassword",!0)},GetCookieValue:function(e){for(var t=document.cookie.split(";"),i=0;i<t.length;i++){var r=t[i].trim();if(r.startsWith("".concat(e,"=")))return decodeURIComponent(r.substring(e.length+1))}return null},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-1e4),document.cookie=e+"=a; expires="+t.toGMTString()},GetLoginApi:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))()}}},d=(r(1294),r(28)),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"ProfileInput"}},[t("aFormModel",{ref:"ruleForm",staticClass:"form-area",attrs:{model:e.memberForm,rules:e.rules}}),t("div",{staticClass:"form-grid"},[t("div",{staticClass:"member-text"},[e._v(e._s("姓名："))]),t("aFormModelItem",{ref:"memberName",attrs:{prop:"memberName"}},[t("aInput",{staticClass:"input-font",attrs:{disabled:e.notEdit,maxLength:9},on:{change:e.EditName},model:{value:e.memberForm.memberName,callback:function(t){e.$set(e.memberForm,"memberName",t)},expression:"memberForm.memberName"}})],1),t("div",{staticClass:"member-text"},[e._v(e._s("信箱："))]),t("aFormModelItem",{ref:"memberEmail",attrs:{prop:"memberEmail"}},[t("aInput",{staticClass:"input-font email-area",attrs:{disabled:e.notEdit,maxLength:9,readOnly:""},on:{click:e.EditPhone},model:{value:e.memberForm.memberEmail,callback:function(t){e.$set(e.memberForm,"memberEmail",t)},expression:"memberForm.memberEmail"}})],1),t("div",{staticClass:"member-text"},[e._v(e._s("密碼："))]),t("aFormModelItem",{ref:"memberPassword",attrs:{prop:"memberPassword"}},[t("aInput",{staticClass:"input-font pwd-area",attrs:{type:"password",disabled:e.notEdit,maxLength:9,readOnly:""},on:{click:e.EditPassword},model:{value:e.memberForm.memberPassword,callback:function(t){e.$set(e.memberForm,"memberPassword",t)},expression:"memberForm.memberPassword"}})],1)],1),t("aFormModelItem",[e.notEdit?t("aButton",{staticClass:"btn-area",attrs:{type:"primary"},on:{click:e.LogOut}},[e._v(e._s("登出")),t("aIcon",{attrs:{type:"export"}})],1):e._e()],1)],1)}),[],!1,null,"25d25359",null);t.default=component.exports},1352:function(e,t,r){var content=r(1423);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("4522465a",content,!0,{sourceMap:!1})},1422:function(e,t,r){"use strict";r(1352)},1423:function(e,t,r){var n=r(64)((function(i){return i[1]}));n.push([e.i,"#MemberProfile[data-v-bcde8a98]{background-color:#fff}#MemberProfile .user-area[data-v-bcde8a98]{background-color:#fff;padding-bottom:20px}#MemberProfile .btn-content[data-v-bcde8a98]{align-items:center;bottom:90px;display:flex;flex-direction:column;justify-content:center;position:absolute;width:100%}#MemberProfile .user-area[data-v-bcde8a98]{align-items:center;display:flex;flex-direction:column;padding-top:14%}#MemberProfile .user-area .circle-area[data-v-bcde8a98]{align-items:center;background-color:#dbefbf;border-radius:50%;display:flex;height:85px;justify-content:center;width:85px}#MemberProfile .user-area .circle-area .icon-area[data-v-bcde8a98]{align-items:center;color:#000;font-size:55px;margin-bottom:10px}#MemberProfile .user-area .user-text[data-v-bcde8a98]{color:#000;font-size:24px}#MemberProfile .btn-area[data-v-bcde8a98]{border:3px solid #68b000;border-radius:30px;color:#000;font-size:20px;height:47px;padding:0 10px}@media (min-width:769px){#MemberProfile .user-area[data-v-bcde8a98]{padding-top:7%}#MemberProfile .btn-content[data-v-bcde8a98]{bottom:18%}}",""]),n.locals={},e.exports=n},1517:function(e,t,r){"use strict";r.r(t);var n,o=r(85),c=r(30),d=(r(129),r(24),r(34),r(35),r(165),r(166),r(1275),r(325),r(1277)),m=r(1283),l=(n={layout:"default",components:{ProfileInput:function(){return Promise.resolve().then(r.bind(null,1312))},EditPhone:function(){return Promise.all([r.e(0),r.e(13)]).then(r.bind(null,1501))},EditVerify:function(){return Promise.all([r.e(0),r.e(69)]).then(r.bind(null,1394))},EditPassword:function(){return Promise.all([r.e(0),r.e(71)]).then(r.bind(null,1393))}},name:"MemberProfile",data:function(){return{uid:"",getInit:!1,dataPwd:"",dataEmail:"",editName:"",getVerify:!1,getOptId:null,openPhone:!1,openPassword:!1,notEdit:!0,editText:"",newEmail:""}},mounted:function(){},computed:{changeEdit:function(){return!0===this.notEdit?(this.editText="修改","edit"):(this.editText="儲存","save")}}},Object(o.a)(n,"mounted",(function(){this.Init(),console.log(window.location.pathname),console.log(window.location.pathname.toLowerCase().includes("login")),window.location.pathname.toLowerCase().includes("login")&&(window.location.href="/member")})),Object(o.a)(n,"methods",{Init:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetUserPwdApi();case 2:case"end":return t.stop()}}),t)})))()},ChangeEditBtn:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.notEdit){t.next=4;break}e.notEdit=!1,t.next=7;break;case 4:return e.notEdit=!0,t.next=7,e.GetUserNameApi();case 7:case"end":return t.stop()}}),t)})))()},OpenPhone:function(e){this.openPhone=e},CloseEmailModal:function(){this.openPhone=!1},GetVerify:function(e,t,r){this.getVerify=e,this.newEmail=r,this.getOptId=t,this.openPhone=!1},VerifyDone:function(){this.getVerify=!1,this.getInit=!0,this.GetUserEmailApi()},CloseVerifyModal:function(){this.getVerify=!1},OpenPassword:function(e){this.openPassword=e},ClosePwdModal:function(){this.openPassword=!1},DonePassword:function(e){this.openPassword=!1,this.dataPwd=e,console.log(this.uid,this.editName,this.dataEmail,this.dataPwd),this.GetNewPwdApi(),this.getInit=!0},EditName:function(e){this.editName=e},GetCookieValue:function(e){for(var t=document.cookie.split(";"),i=0;i<t.length;i++){var r=t[i].trim();if(r.startsWith("".concat(e,"=")))return decodeURIComponent(r.substring(e.length+1))}return null},GetUserPwdApi:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.GetCookieValue("email"),e.uid=e.GetCookieValue("id"),t.next=4,Object(d.a)(r);case 4:n=t.sent,e.editName=n.uname,e.dataPwd=n.pwd,e.dataEmail=n.email;case 8:case"end":return t.stop()}}),t)})))()},GetUserNameApi:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.b)(e.uid,e.editName,e.dataEmail,e.dataPwd);case 2:"success"===t.sent.data.status&&e.$message.success("變更成功");case 4:case"end":return t.stop()}}),t)})))()},GetUserEmailApi:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.uid,e.editName,e.newEmail,e.dataPwd),t.next=3,Object(m.b)(e.uid,e.editName,e.newEmail,e.dataPwd);case 3:"success"===t.sent.data.status&&(e.$message.success("變更成功,請重新登入"),e.$nextTick((function(){e.$router.push("/member/login")})));case 5:case"end":return t.stop()}}),t)})))()},GetNewPwdApi:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.b)(e.uid,e.editName,e.dataEmail,e.dataPwd);case 2:"success"===t.sent.data.status&&(e.$message.success("變更成功,請重新登入"),e.$nextTick((function(){e.$router.push("/member/login")})));case 4:case"end":return t.stop()}}),t)})))()}}),n),f=(r(1422),r(28)),component=Object(f.a)(l,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"MemberProfile"}},[t("div",{staticClass:"user-area"},[t("div",{staticClass:"circle-area"},[t("aIcon",{staticClass:"icon-area",attrs:{type:"user"}})],1),t("div",{staticClass:"user-text"},[e._v(e._s("會員資訊"))])]),t("div",{staticClass:"edit-area"},[t("ProfileInput",{attrs:{notEdit:e.notEdit,getInit:e.getInit},on:{openPhone:e.OpenPhone,openPassword:e.OpenPassword,EditName:e.EditName}}),t("div",{staticClass:"btn-content"},[t("aButton",{staticClass:"btn-area",on:{click:e.ChangeEditBtn}},[e._v(e._s(e.editText)),t("aIcon",{attrs:{type:e.changeEdit}})],1)],1)],1),t("EditPhone",{attrs:{visible:e.openPhone},on:{getVerify:e.GetVerify,CloseEmailModal:e.CloseEmailModal}}),t("EditVerify",{attrs:{memberEmail:e.dataEmail,visible:e.getVerify,getOptId:e.getOptId,getNewEmail:e.newEmail},on:{verifyDone:e.VerifyDone,CloseVerifyModal:e.CloseVerifyModal}}),t("EditPassword",{staticClass:"edit-area",attrs:{visible:e.openPassword},on:{donePassword:e.DonePassword,ClosePwdModal:e.ClosePwdModal}})],1)}),[],!1,null,"bcde8a98",null);t.default=component.exports;installComponents(component,{ProfileInput:r(1312).default})}}]);