(window.webpackJsonp=window.webpackJsonp||[]).push([[24,71,72],{1275:function(e,t,r){"use strict";var n=r(15),o=r(687).trim;n({target:"String",proto:!0,forced:r(1276)("trim")},{trim:function(){return o(this)}})},1276:function(e,t,r){var n=r(162).PROPER,o=r(17),d=r(688);e.exports=function(e){return o((function(){return!!d[e]()||"​᠎"!=="​᠎"[e]()||n&&d[e].name!==e}))}},1277:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(30),o=(r(129),r(24),r(34),r(35),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return n=e.sent.default,e.prev=3,e.next=6,n.post("https://large-lovely-woodcock.ngrok-free.app/user/?email=".concat(t));case 6:return o=e.sent,e.abrupt("return",o.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{email:"Febe@gmail.com",point:10,pwd:"aaa",uid:1,uname:"Febe"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}())},1283:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return d}));var n=r(30),o=(r(129),r(24),r(34),r(35),r(161),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,n,o,d){var c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return c=e.sent.default,e.prev=3,e.next=6,c.post("https://large-lovely-woodcock.ngrok-free.app/updateuser/?uid=".concat(t,"&uname=").concat(n,"&email=").concat(o,"&pwd=").concat(d));case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{data:{message:"更新資料完成",status:"success"}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),d=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,n,o){var d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1),r.e(2)]).then(r.bind(null,1274));case 2:return d=e.sent.default,e.prev=3,e.next=6,d.post("https://large-lovely-woodcock.ngrok-free.app/updateuser/?uname=".concat(t,"&email=").concat(n,"&pwd=").concat(o,"&status=register"));case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{message:"更新資料完成",status:"success"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()},1287:function(e,t,r){var content=r(1304);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("5c7ea759",content,!0,{sourceMap:!1})},1303:function(e,t,r){"use strict";r(1287)},1304:function(e,t,r){var n=r(64)((function(i){return i[1]}));n.push([e.i,"#EditPassword .block-area[data-v-2b3d50b2]{background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:999}#EditPassword .content[data-v-2b3d50b2]{justify-content:center;text-align:center}#EditPassword .content .form-area[data-v-2b3d50b2]{display:flex;flex-direction:column;justify-content:center;padding:20px 0}#EditPassword .content .btn-area[data-v-2b3d50b2]{background-color:#8dda1e;border-radius:14px;color:#fff;font-family:Inter;font-size:24px;font-weight:600;height:50px;letter-spacing:0;margin-top:12px;text-align:center;width:-webkit-fill-available}#EditPassword .ant-row[data-v-2b3d50b2]{margin:0!important}#EditPassword .content[data-v-2b3d50b2]{background:#000;border-radius:24px;margin:0 21px;padding:0 27px}#EditPassword .content .input-font[data-v-2b3d50b2]{border-radius:14px;font-size:20px;height:50px;margin:10px 0;padding:0 20px}@media (min-width:769px){#EditPassword .block-area[data-v-2b3d50b2]{align-items:center}#EditPassword .content[data-v-2b3d50b2]{width:600px}}",""]),n.locals={},e.exports=n},1393:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(1275),r(325),r(129),r(1280)),d=r.n(o),c=r(1277),l=r(1283),m={name:"EditPassword",props:{visible:{type:Boolean,default:""}},data:function(){var e=this;return{uid:"",dataPwd:"",dataUname:"",dataEmail:"",memberForm:{oldPassword:"",newPassword:"",newPasswordAgain:""},rules:{oldPassword:[{required:!0,message:"不可為空"},{validator:this.rValidataPhoneFormat,trigger:"blur"}],newPassword:[{required:!0,message:"不可為空"},{validator:this.rValidataPhoneFormat,trigger:"blur"}],newPasswordAgain:[{required:!0,message:"不可為空"},{validator:function(t,r,n){var form=e.memberForm;r&&r!==form.newPassword?n("兩次密碼不一致!"):n()},trigger:"blur"}]}}},mounted:function(){var e=this;this.Init(),d()(document).click((function(t){if(!0===e.visible){console.log("sdjfldf");var r=d()(t.target),n=d()(".content"),o=d()(".pwd-area");console.log(r),r.closest(o).length||r.closest(n).length||(console.log("jkjj"),e.visible=!1,e.ClosePwdModal())}}))},methods:{Init:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetUserPwdApi();case 2:case"end":return t.stop()}}),t)})))()},OnSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dataPwd===e.memberForm.oldPassword?r&&(e.$emit("donePassword",e.memberForm.newPassword),e.memberForm.newPassword="",e.memberForm.newPasswordAgain="",e.memberForm.oldPassword=""):e.$message.error("密碼錯誤");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},ClosePwdModal:function(){this.memberForm.newPassword="",this.memberForm.newPasswordAgain="",this.memberForm.oldPassword="",this.$emit("ClosePwdModal")},GetCookieValue:function(e){for(var t=document.cookie.split(";"),i=0;i<t.length;i++){var r=t[i].trim();if(r.startsWith("".concat(e,"=")))return decodeURIComponent(r.substring(e.length+1))}return null},GetUserPwdApi:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.GetCookieValue("email"),e.uid=e.GetCookieValue("id"),t.next=4,Object(c.a)(r);case 4:n=t.sent,e.dataPwd=n.pwd,e.dataUname=n.uname,e.dataEmail=n.email;case 8:case"end":return t.stop()}}),t)})))()},GetEditUserPwdApi:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.b)(e.uid,e.dataUname,e.dataEmail,e.memberForm.newPassword);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},w=m,f=(r(1303),r(28)),component=Object(f.a)(w,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"EditPassword"}},[e.visible?t("div",{staticClass:"block-area"},[t("div",{staticClass:"content"},[t("aFormModel",{ref:"ruleForm",staticClass:"form-area",attrs:{model:e.memberForm,rules:e.rules}},[t("aFormModelItem",{ref:"oldPassword",attrs:{prop:"oldPassword"}},[t("aInput",{staticClass:"input-font",attrs:{type:"password",placeholder:"請輸入原密碼",maxLength:9},model:{value:e.memberForm.oldPassword,callback:function(t){e.$set(e.memberForm,"oldPassword",t)},expression:"memberForm.oldPassword"}})],1),t("aFormModelItem",{ref:"newPassword",attrs:{prop:"newPassword"}},[t("aInput",{staticClass:"input-font",attrs:{type:"password",placeholder:"請輸入新密碼",maxLength:9},model:{value:e.memberForm.newPassword,callback:function(t){e.$set(e.memberForm,"newPassword",t)},expression:"memberForm.newPassword"}})],1),t("aFormModelItem",{ref:"newPasswordAgain",attrs:{prop:"newPasswordAgain"}},[t("aInput",{staticClass:"input-font",attrs:{type:"password",placeholder:"請再次輸入新密碼",maxLength:9},model:{value:e.memberForm.newPasswordAgain,callback:function(t){e.$set(e.memberForm,"newPasswordAgain",t)},expression:"memberForm.newPasswordAgain"}})],1),t("aFormModelItem",[t("aButton",{staticClass:"btn-area",attrs:{type:"primary"},on:{click:e.OnSubmit}},[e._v(e._s("確認 "))])],1)],1)],1)]):e._e()])}),[],!1,null,"2b3d50b2",null);t.default=component.exports}}]);