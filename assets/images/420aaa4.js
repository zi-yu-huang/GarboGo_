(window.webpackJsonp=window.webpackJsonp||[]).push([[31,66],{1275:function(t,e,n){"use strict";var r=n(15),o=n(687).trim;r({target:"String",proto:!0,forced:n(1276)("trim")},{trim:function(){return o(this)}})},1276:function(t,e,n){var r=n(162).PROPER,o=n(17),c=n(688);t.exports=function(t){return o((function(){return!!c[t]()||"​᠎"!=="​᠎"[t]()||r&&c[t].name!==t}))}},1282:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return d}));var r=n(30),o=(n(129),n(24),n(34),n(35),n(161),function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(1),n.e(2)]).then(n.bind(null,1274));case 2:return r=t.sent.default,t.prev=3,t.next=6,r.post("https://large-lovely-woodcock.ngrok-free.app/addpoint/?uid=".concat(e));case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",{dateList:[{isShowChange:!0,list:["2023-10-02","2023-10-08","2023-10-15","2023-10-23","2023-10-24"],title:"2023-10"},{isShowChange:!1,list:["2023-11-05","2023-11-08","2023-11-13","2023-11-22","2023-11-23","2023-11-24","2023-11-27"],title:"2023-11"}],uid:1,uname:"Febe"});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()),c=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,r){var o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(1),n.e(2)]).then(n.bind(null,1274));case 2:return o=t.sent.default,t.prev=3,t.next=6,o.post("https://large-lovely-woodcock.ngrok-free.app/addticket?uid=".concat(e,"&value=").concat(r));case 6:return c=t.sent,t.abrupt("return",c);case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",{});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}(),l=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(1),n.e(2)]).then(n.bind(null,1274));case 2:return r=t.sent.default,t.prev=3,t.next=6,r.post("https://large-lovely-woodcock.ngrok-free.app/ticketnum/?uid=".concat(e));case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",{data:{enddate:"2024-01-31",t0:1,t1:1,uid:"1"}});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(1),n.e(2)]).then(n.bind(null,1274));case 2:return r=t.sent.default,t.prev=3,t.next=6,r.post("https://large-lovely-woodcock.ngrok-free.app/usersstotalpoint/?uid=".concat(e));case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",{dateList:[{isShowChange:!0,list:["2023-10-02","2023-10-08","2023-10-15","2023-10-23","2023-10-24"],title:"2023-10"},{isShowChange:!1,list:["2023-11-05","2023-11-08","2023-11-13","2023-11-22","2023-11-23","2023-11-24","2023-11-27"],title:"2023-11"}],uid:1,uname:"Febe"});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()},1299:function(t,e,n){var content=n(1327);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(65).default)("097fe290",content,!0,{sourceMap:!1})},1323:function(t,e,n){"use strict";var r=n(15),o=n(1324).start;r({target:"String",proto:!0,forced:n(1325)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},1324:function(t,e,n){var r=n(19),o=n(131),c=n(33),l=n(689),d=n(52),f=r(l),h=r("".slice),v=Math.ceil,m=function(t){return function(e,n,r){var l,m,x=c(d(e)),y=o(n),C=x.length,w=void 0===r?" ":c(r);return y<=C||""==w?x:((m=f(w,v((l=y-C)/w.length))).length>l&&(m=h(m,0,l)),t?x+m:m+x)}};t.exports={start:m(!1),end:m(!0)}},1325:function(t,e,n){var r=n(130);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},1326:function(t,e,n){"use strict";n(1299)},1327:function(t,e,n){var r=n(64)((function(i){return i[1]}));r.push([t.i,"#CA .title-area[data-v-4c06189a]{display:flex;justify-content:space-between}#CA[data-v-4c06189a]{background:#fff;border-radius:14px;margin:10px 20px}#CA .restCls[data-v-4c06189a]{background:#f1705e;border:2px solid #f1705e;border-radius:100px;display:inline-block;height:28px;left:0;opacity:.7;position:relative;top:-9px;width:28px}#CA .btn-area[data-v-4c06189a]{background-color:#4a5660;border-radius:0 0 14px 14px;color:#fff;font-family:Inter;font-size:16px;font-weight:800;height:40px;letter-spacing:0;line-height:19px;text-align:center;width:100%}",""]),r.locals={},t.exports=r},1501:function(t,e,n){"use strict";n.r(e);n(99),n(87),n(101),n(66),n(40),n(50),n(51);var r=n(30),o=(n(129),n(24),n(34),n(35),n(1323),n(100),n(161),n(231),n(46),n(163),n(1275),n(325),n(1280)),c=n.n(o),l=n(1282);function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h={name:"CA",components:{Loading:function(){return n.e(3).then(n.bind(null,1545))},InfoComponents:function(){return n.e(17).then(n.bind(null,1538))},CollectModal:function(){return n.e(10).then(n.bind(null,1541))}},props:{selectedDate:{type:String,default:""},dateList:{type:Array,default:""},isShowChange:{type:Boolean,default:""}},data:function(){return{visibleModal:!1,visible:!1,btnText:"",btnDis:!1,btnStyle:"",loadingVisible:!1}},computed:{shouldShowChange:function(){var t=new Date;console.log(t);var e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r="".concat(e,"-").concat(n);return this.isShowChange||this.selectedDate===r?!(!this.isShowChange||this.selectedDate===r)&&(console.log("b"),this.btnText="快給我兌換卷！",!0):!!this.dateList.length&&(console.log("a"),this.btnDis=!0,this.btnStyle="background-color: #c3c3c3 !important;",this.btnText="兌換完畢",!0)}},mounted:function(){var t=this;console.log(this.visible),c()(document).click((function(e){if(!0===t.visible){console.log("ccc");var n=c()(e.target),r=c()(".bg-area"),o=c()(".info-area");n.closest(r).length||n.closest(o).length||(t.visible=!1,console.log("ddd"))}}))},methods:{onPanelChange:function(t,e){},InfoOpen:function(){this.visible=!0},InfoClose:function(){this.visible=!1},getListData:function(t){var e,n,r=new Date(t).toLocaleDateString("en-US",{timeZone:"Asia/Taipei"}).split("/").map((function(t,e){return 0===e?t:t.padStart(2,"0")})).join("-"),o=d(this.dateList);try{for(o.s();!(n=o.n()).done;){var c=n.value;if(r.substring(0,5)===c.substring(5,10)){e=[{content:""}];break}}}catch(t){o.e(t)}finally{o.f()}return e||[]},ChangeCard:function(){this.visibleModal=!0},CloseModal:function(){this.visibleModal=!1},SaveModal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.dateList.length)>=5&&n<10)){e.next=6;break}return e.next=4,t.GetAddTicketApi(1);case 4:e.next=9;break;case 6:if(!(n>=10)){e.next=9;break}return e.next=9,t.GetAddTicketApi(0);case 9:t.visibleModal=!1,t.loadingVisible=!0,setTimeout((function(){console.log("End"),t.btnText="兌換完畢",t.btnDis=!0,t.btnStyle="background-color: #c3c3c3 !important;",t.$emit("ChangeTab"),t.loadingVisible=!1}),1e3);case 12:case"end":return e.stop()}}),e)})))()},GetCookieValue:function(t){for(var e=document.cookie.split(";"),i=0;i<e.length;i++){var n=e[i].trim();if(n.startsWith("".concat(t,"=")))return decodeURIComponent(n.substring(t.length+1))}return null},GetAddTicketApi:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.GetCookieValue("id"),n.next=3,Object(l.b)(r,t);case 3:return o=n.sent,console.log(o),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})))()}}},v=(n(1326),n(28)),component=Object(v.a)(h,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"CA"}},[e("div",{staticStyle:{border:"1px solid #d9d9d9","border-radius":"14px"}},[e("a-calendar",{attrs:{fullscreen:!1,"header-render":t.headerRender,value:t.selectedDate},on:{panelChange:t.onPanelChange},scopedSlots:t._u([{key:"headerRender",fn:function(n){n.value;return[e("div",{staticStyle:{padding:"10px",display:"grid","grid-template-columns":"1fr 44px"}},[e("div",{staticStyle:{"margin-bottom":"'10px'","text-align":"center","padding-left":"35px"}},[t._v(t._s(t.selectedDate))]),e("aIcon",{staticClass:"info-area",staticStyle:{"font-size":"22px"},attrs:{type:"info-circle"},on:{click:t.InfoOpen}})],1)]}},{key:"dateCellRender",fn:function(n){return e("div",{staticClass:"events"},[t._l(t.getListData(n),(function(t,n){return[e("span",{staticClass:"restCls"})]}))],2)}}])}),t.shouldShowChange?e("div",{staticClass:"btn-area"},[e("aButton",{staticClass:"btn-area",style:t.btnStyle,attrs:{disabled:t.btnDis},on:{click:t.ChangeCard}},[t._v(t._s(t.btnText))])],1):t._e()],1),e("InfoComponents",{attrs:{visible:t.visible},on:{InfoClose:t.InfoClose}}),t.loadingVisible?e("Loading"):t._e(),e("CollectModal",{attrs:{visibleModal:t.visibleModal},on:{CloseModal:t.CloseModal,SaveModal:t.SaveModal}})],1)}),[],!1,null,"4c06189a",null);e.default=component.exports}}]);